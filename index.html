<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>S-Class System</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    :root{
      --bg:#003e41;        /* Rich Black */
      --card:#0b4f52;
      --field:#063a3d;
      --text:#f2f2f2;
      --muted:rgba(242,242,242,.7);
      --accent:#ecd4bd;    /* фирменный бежевый */
      --danger:#ff6b6b;
      --ok:#7CFF9A;
    }
    body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,sans-serif;background:var(--bg);color:var(--text);}
    .container{padding:20px;max-width:520px;margin:0 auto;}
    .card{background:var(--card);border-radius:16px;padding:16px;}
    .topbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;}
    h1{font-size:22px;margin:0 0 6px;}
    .subtitle{font-size:13px;color:var(--muted);margin:0 0 14px;}
    .pill{font-size:12px;padding:6px 10px;border-radius:999px;background:rgba(236,212,189,.15);color:var(--accent);}
    label{display:block;font-size:13px;margin:14px 0 6px;color:var(--muted);}
    input{
      width:100%;padding:12px;border-radius:10px;border:none;
      font-size:15px;background:var(--field);color:var(--text);box-sizing:border-box;outline:none;
    }
    .row{display:flex;gap:10px;}
    .btn{
      width:100%;padding:14px;border-radius:12px;border:none;
      font-size:16px;font-weight:800;background:var(--accent);color:var(--bg);cursor:pointer;margin-top:14px;
    }
    .btn-mini{
      flex:1;padding:12px;border-radius:12px;border:1px solid rgba(236,212,189,.35);
      font-size:14px;font-weight:700;background:transparent;color:var(--accent);cursor:pointer;
    }
    .status{margin-top:12px;font-size:13px;text-align:center;color:var(--muted);}
    .status.error{color:var(--danger);}
    .status.ok{color:var(--ok);}
    .hint{font-size:12px;color:var(--muted);margin-top:8px;}
    .code{text-align:center;letter-spacing:6px;font-size:18px;font-weight:800;}
  </style>
</head>

<body>
<div class="container">
  <div class="card">
    <div class="topbar">
      <div>
        <h1 id="t_title"></h1>
        <div class="subtitle" id="t_subtitle"></div>
      </div>
      <div class="pill">Email OTP</div>
    </div>

    <label id="t_email_label"></label>
    <input id="email" type="email" placeholder="name@company.com"/>

    <div class="row" style="margin-top:12px;">
      <button class="btn-mini" onclick="requestCode()" id="t_send"></button>
      <button class="btn-mini" onclick="clearCode()" id="t_clear"></button>
    </div>

    <div class="hint" id="t_hint"></div>

    <label id="t_code_label"></label>
    <input id="code" maxlength="6" class="code" placeholder="••••••"/>

    <button class="btn" onclick="verifyCode()" id="t_verify"></button>
    <div id="status" class="status"></div>
  </div>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

const LANG = (tg.initDataUnsafe?.user?.language_code || "en").startsWith("ru")
  ? "ru"
  : (tg.initDataUnsafe?.user?.language_code || "").startsWith("uz")
    ? "uz"
    : "en";

const TEXT = {
  en:{
    title:"Sign in",
    subtitle:"S-Class internal system",
    email:"Work email",
    send:"Send code",
    clear:"Clear",
    hint:"We’ll send a 6-digit code to your email. Code is valid for ~10 minutes.",
    code:"6-digit code",
    verify:"Verify & Open"
  },
  ru:{
    title:"Вход",
    subtitle:"Внутренняя система S-Class",
    email:"Рабочая почта",
    send:"Отправить код",
    clear:"Очистить",
    hint:"Мы отправим 6-значный код на почту. Код действует ~10 минут.",
    code:"6-значный код",
    verify:"Проверить и войти"
  },
  uz:{
    title:"Kirish",
    subtitle:"S-Class ichki tizimi",
    email:"Ishchi pochta",
    send:"Kod yuborish",
    clear:"Tozalash",
    hint:"Elektron pochtangizga 6 xonali kod yuboramiz. Kod ~10 daqiqa amal qiladi.",
    code:"6 xonali kod",
    verify:"Tasdiqlash va ochish"
  }
};

function t(id,key){ document.getElementById(id).innerText = TEXT[LANG][key]; }

t("t_title","title");
t("t_subtitle","subtitle");
t("t_email_label","email");
t("t_send","send");
t("t_clear","clear");
t("t_hint","hint");
t("t_code_label","code");
t("t_verify","verify");

// логика Make.com подключается дальше
function requestCode(){ document.getElementById("status").innerText="→ Make.com"; }
function verifyCode(){ document.getElementById("status").innerText="→ Make.com"; }
function clearCode(){ document.getElementById("code").value=""; }
</script>
</body>
</html>
